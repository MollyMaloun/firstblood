(()=>{"use strict";var e,r,o,t,i={716329:(e,r,o)=>{o.r(r),o.d(r,{WAITING:()=>t,STARTED:()=>i,ENDED:()=>a,FAILED:()=>d,UPCOMING:()=>n});var t=1,i=2,a=3,d=4,n=5},656675:(e,r,o)=>{o.d(r,{default:()=>y,lazyLoadPlayer:()=>m});o(59357);var t=o(40906),i=o(726271),a=o(787481),d=o(695690),n=o(695724),l=o(315544),s=o(716329),c=o(108046),u=o(19331),v={queue:[],timeout:null,sig:""};function p(e,r){var o,t,i,a,d,n,l,s;if(r.send_debug){v.sig=[r.action_hash,r.oid,r.vid,r.viewer_id].join("_");var c={ts:Math.round(Date.now()/1e3),video_id:[r.oid,r.vid].join("_"),e:"video_event",event:"debug",value:e,ov_id:r.ov_id,ad_data:r.ad_data,autoplay:r.autoplay,track_code:r.track_code,player_type:null!==(o=null===(t=window.Videoview)||void 0===t||null===(i=t.getLayoutType)||void 0===i?void 0:i.call(t))&&void 0!==o?o:"",ref:null!==(a=null!==(d=r.module)&&void 0!==d?d:null===(n=window.Videoview)||void 0===n||null===(l=n.getVideoModule)||void 0===l?void 0:l.call(n))&&void 0!==a?a:""};v.queue.push(c),v.timeout=null!==(s=v.timeout)&&void 0!==s?s:window.setTimeout((()=>{ajax.post("al_video.php?act=track_player_events",{events:JSON.stringify(v.queue),sig:v.sig}),v.queue=[],v.timeout=null}),1e3)}}const y={initPlayer(e,r,o){(0,l.hide)((0,l.domByClass)(e,"video_box_msg")),VideoInitializer[r].apply(VideoInitializer,[e].concat(o)),window.stManager.add("notifier.js",(function(){var e=Videoview.togglePlay.pbind(!1);Notifier.addRecvClbk("audio_start","video",e),Notifier.addRecvClbk("video_start","video",e),Notifier.addRecvClbk("videocall_start","video",e)}))},vk(e,r){var o=r.oid+"_"+r.vid;if(r.vsegs)ls.remove("vsegs"+vk.id+"_"+o);else{var t=ls.get("vsegs"+vk.id+"_"+o);t&&t.ts&&t.segments&&Date.now()-t.ts<864e5&&(r.vsegs=t.segments.replace(/[^0-9\,\|]/gi,""))}window.onLoaded((function(){!r.old_player||r.live&&r.live!==s.STARTED&&r.live!==s.ENDED?VideoInitializer.unionPlayer(e,r):VideoInitializer.vkHtml5(e,r)}))},vkHtml5(e,r){p("requested",r);var o=window.mvLayer&&window.mvLayer.contains(e),i=o&&mvcur.oldPlayer&&e.contains(mvcur.oldPlayer.el);i||(0,l.val)(e,"");var a=new CallHub((function(){if(!bodyNode.contains(e))return void p("domabort",r);var a;if(p("imported",r),o&&mvcur.oldPlayer){mvcur.oldPlayer.deinitVideo(!0),mvcur.player=mvcur.oldPlayer,a=mvcur.player;try{a.initVideo(r)}catch(e){throw p("init_failed",r),e}}else{try{a=new VideoPlayer(r,e)}catch(e){throw p("constructor_failed",r),e}o?(mvcur.player&&mvcur.player.destroy(),mvcur.oldPlayer=a,mvcur.player=mvcur.oldPlayer):r.is_embed?cur.player=a:-195297477===r.author_id?a.play():cur.videoInlinePlayer=a}(0,t.isFunction)(r.onPlayerLoaded)&&r.onPlayerLoaded(a);if(!i){var d=(0,l.ce)("div",{id:"video_player"});(0,l.attr)(d,"preventhide",1),d.appendChild(a.el),e.appendChild(d)}}));r.hls_candy_server&&!window.Candy&&(a.count++,(0,d.loadScript)("https://cdn.candy.systems/js/vk/candy2.min.js",{timeout:5e3,onLoad:function(){a.done()},onError:function(){delete r.hls_candy,a.done()}}));var n=["videoplayer.js","videoplayer.css"];(r.hls||r.hls_raw||r.hls_ondemand)&&n.push("hls.min.js"),window.stManager.add(n,(function(){a.done()}))},unionPlayer(e,r){p("requested",r);var i=window.mvLayer&&window.mvLayer.contains(e);(0,l.val)(e,""),window.stManager.add(["videoplayer.css"]),Promise.all([o.e(11216),o.e(68592),o.e(69731),o.e(44212),o.e(52974)]).then(o.bind(o,463325)).then((o=>{var a=o.Player;if(bodyNode.contains(e)){var d;p("imported",r);try{d=new a(r,e)}catch(e){throw p("constructor_failed",r),e}i?(mvcur.player&&mvcur.player.destroy(),mvcur.sdkPlayer=d,mvcur.player=mvcur.sdkPlayer):r.is_embed?cur.player=d:cur.videoInlinePlayer=d;var n=(0,l.ce)("div",{id:"video_player"});(0,l.attr)(n,"preventhide",1),n.appendChild(d.el),e.appendChild(n),(0,t.isFunction)(r.onPlayerLoaded)&&r.onPlayerLoaded(d)}else p("domabort",r)}),(e=>{throw p("import_failed",r),e}))},youtube(e,r){var o=r.oid,t=r.vid,i=r.report_error_hash;r.restriction||(document.pictureInPictureEnabled&&document.pictureInPictureElement&&document.exitPictureInPicture(),window.onYouTubeIframeAPIReady=function(){var d=(0,l.domByClass)(e,"video_yt_player"),n=new window.YT.Player(d,{events:{onError:function(e){var r=[100,101,150];e.data&&r.includes(e.data)&&ajax.post("al_video.php?act=reparseDeletedYoutube",{vid:t,oid:o}),(0,a.debugLog)("YT player error",arguments),ajax.post("al_video.php?act=external_error",{oid:o,vid:t,hash:i})},onStateChange:function(e){if(e.data===window.YT.PlayerState.ENDED)window.stManager.add(["videoview.js","videoview.css"],(function(){var e=(0,l.ge)("video_yt");Videoview.onExternalVideoEnded(e)}));else(0,l.ge)("mv_external_finish")&&Videoview.removeExternalVideoFinishBlock()}}});window.stManager.add([window.jsc("web/video_youtube.js"),"video_youtube.css"],(function(){VideoYoutube.initStatOnly(n,r)}))},window.YT?window.onYouTubeIframeAPIReady():(0,d.loadScript)("https://www.youtube.com/iframe_api",{attributes:{async:!0,fetchPriority:"high"}}))},iframeOrFlash(e,r,o,t,a,d){t&&(i.browser.flash<Videoview.FLASH_MIN_VERSION||!r)?(0,l.val)(e,'<iframe class="extra_player" type="text/html" width="100%" height="100%" src="'+encodeURI(t)+'" frameborder="0" '+a+"></iframe>"):(o=(0,n.extend)({stats:"",from:"vk"},o),VideoInitializer.flash(e,r,o)),d&&setTimeout((function(){cur&&cur.incViews&&cur.incViews()}),100)},flash(e,r,o,t){if(i.browser.flash<Videoview.FLASH_MIN_VERSION)(0,l.show)((0,l.domByClass)(e,"video_box_msg"));else{var a={url:r,id:"video_player",width:"100%",height:"100%",preventhide:1,version:11};t=(0,n.extend)({allowfullscreen:!0,allowscriptaccess:"never",bgcolor:"#000000",wmode:"opaque"},t),renderFlash(e,a,t,o)}}};var f=e=>{switch(e){case"vk":window.stManager.add(["videoplayer.css"]),Promise.all([o.e(11216),o.e(68592),o.e(69731),o.e(44212),o.e(52974)]).then(o.bind(o,463325));break;case"youtube":var r="https://www.youtube.com/iframe_api";(window.YT||document.head.querySelector(`script[src="${r}"]`))&&(0,d.loadScript)(r,{attributes:{defer:!0,fetchPriority:"low"}})}},m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"vk";if((0,u.partConfigEnabled)("video_lazy_load_player"))try{(0,c.idlizeCall)((()=>window.setTimeout((()=>(0,c.idlizeCall)((()=>f(e)))),300)))}catch(e){console.error(e)}}}},a={};function d(e){var r=a[e];if(void 0!==r)return r.exports;var o=a[e]={id:e,loaded:!1,exports:{}};return i[e].call(o.exports,o,o.exports,d),o.loaded=!0,o.exports}d.m=i,e=[],d.O=(r,o,t,i)=>{if(!o){var a=1/0;for(c=0;c<e.length;c++){for(var[o,t,i]=e[c],n=!0,l=0;l<o.length;l++)(!1&i||a>=i)&&Object.keys(d.O).every((e=>d.O[e](o[l])))?o.splice(l--,1):(n=!1,i<a&&(a=i));if(n){e.splice(c--,1);var s=t();void 0!==s&&(r=s)}}return r}i=i||0;for(var c=e.length;c>0&&e[c-1][2]>i;c--)e[c]=e[c-1];e[c]=[o,t,i]},d.n=e=>{var r=e&&e.__esModule?()=>e.default:()=>e;return d.d(r,{a:r}),r},o=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,d.t=function(e,t){if(1&t&&(e=this(e)),8&t)return e;if("object"==typeof e&&e){if(4&t&&e.__esModule)return e;if(16&t&&"function"==typeof e.then)return e}var i=Object.create(null);d.r(i);var a={};r=r||[null,o({}),o([]),o(o)];for(var n=2&t&&e;"object"==typeof n&&!~r.indexOf(n);n=o(n))Object.getOwnPropertyNames(n).forEach((r=>a[r]=()=>e[r]));return a.default=()=>e,d.d(i,a),i},d.d=(e,r)=>{for(var o in r)d.o(r,o)&&!d.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:r[o]})},d.f={},d.e=e=>Promise.all(Object.keys(d.f).reduce(((r,o)=>(d.f[o](e,r),r)),[])),d.u=e=>69731===e?"5be46e8bb99b1420d2f71e09d553024b.82e0b3da8b9da649483c.js":44212===e?"a1ce2afe72d9e76a1e16588a7be78769.1bf299ef3f6a2a461f97.js":52974===e?"videoplayer_v2.f2d5a3eb4f9e28a7a025.js":74212===e?e+".b148a1507f6fe9f17d45.js":1122===e?"1122.588a3b0761fde484fe18.js":void 0,d.miniCssF=e=>{if(22734===e)return"c33df0ba8e2ec6451e27c9064c2a3c70.4c9d2af5a3922a9f6191.css"},d.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),d.hmd=e=>((e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e),d.o=(e,r)=>Object.prototype.hasOwnProperty.call(e,r),t={},d.l=(e,r,o,i)=>{if(t[e])t[e].push(r);else{var a,n;if(void 0!==o)for(var l=document.getElementsByTagName("script"),s=0;s<l.length;s++){var c=l[s];if(c.getAttribute("src")==e||c.getAttribute("data-webpack")=="vk:"+o){a=c;break}}a||(n=!0,(a=document.createElement("script")).charset="utf-8",a.timeout=120,d.nc&&a.setAttribute("nonce",d.nc),a.setAttribute("data-webpack","vk:"+o),a.src=e),t[e]=[r];var u=(r,o)=>{a.onerror=a.onload=null,clearTimeout(v);var i=t[e];if(delete t[e],a.parentNode&&a.parentNode.removeChild(a),i&&i.forEach((e=>e(o))),r)return r(o)},v=setTimeout(u.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=u.bind(null,a.onerror),a.onload=u.bind(null,a.onload),n&&document.head.appendChild(a)}},d.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},d.p="/dist/",(()=>{var e={37658:0};d.f.j=(r,o)=>{var t=d.o(e,r)?e[r]:void 0;if(0!==t)if(t)o.push(t[2]);else{var i=new Promise(((o,i)=>t=e[r]=[o,i]));o.push(t[2]=i);var a=d.p+d.u(r),n=new Error;d.l(a,(o=>{if(d.o(e,r)&&(0!==(t=e[r])&&(e[r]=void 0),t)){var i=o&&("load"===o.type?"missing":o.type),a=o&&o.target&&o.target.src;n.message="Loading chunk "+r+" failed.\n("+i+": "+a+")",n.name="ChunkLoadError",n.type=i,n.request=a,t[1](n)}}),"chunk-"+r,r)}},d.O.j=r=>0===e[r];var r=(r,o)=>{var t,i,[a,n,l]=o,s=0;for(t in n)d.o(n,t)&&(d.m[t]=n[t]);if(l)var c=l(d);for(r&&r(o);s<a.length;s++)i=a[s],d.o(e,i)&&e[i]&&e[i][0](),e[a[s]]=0;return d.O(c)},o=self.webpackChunkvk=self.webpackChunkvk||[];o.forEach(r.bind(null,0)),o.push=r.bind(null,o.push.bind(o))})();var n=d.O(void 0,[11216,24509,40885,68592,22734,45958],(()=>d(84786)));n=d.O(n)})();